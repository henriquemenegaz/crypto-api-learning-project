<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Crypto Data</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <!-- <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script> -->

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- <form action="/list" method="get">
        <button type="submit">Get coins map</button>
    </form> -->
    
    <!-- Masthead-->
    <header class="masthead">
        <div class="container">
            <div class="masthead-subheading">Get real-time crypto data.</div>
            <div class="masthead-heading text-uppercase">Welcome To Crypto Data</div>            
        </div>
    </header>


    <section class="page-section" id="coin-ids">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Get crypto ID</h2>
                <h3 class="section-subheading text-muted">Fill the form below with coin's ticker to get crypto ID.</h3>
            </div>

            <div class="text-center mb-5">
                <form action="/coin-ids" method="post" class="centered-form form-white">
                    <div class="form-group mb-2">
                        <!-- <label for="ticker" class="form-label">Ticker</label> -->
                        <input type="text" class="form-control bg-light" name="ticker" placeholder="Write coin's Ticker" id="ticker" required>                               
                    </div>
                    <button type="submit" class="btn btn-dark">Get coin IDs</button> 
                </form>
            </div>

            <div class="centered-table-container">
                <% if (locals.coins) { %>
                    <h1 class="text-center mb-4">Coins for $<%= coins[0].symbol.toUpperCase() %></h1>
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Coin's Name</th>
                                <th scope="col">Coin's ID</th>
                            </tr>
                        </thead>
                        <tbody>           
                            <% coins.forEach(coin => { %>
                                <tr>
                                    <td> <%= coin.name %></td>
                                    <td><%= coin.id %></td>%></td>                    
                                </tr>
                            <% }); %>   
                        </tbody>
                    </table>
                <% } %>
            </div>
        </div>
    </section>


    <section class="page-section bg-light" id="coin-data">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Get crypto data</h2>
                <h3 class="section-subheading text-muted">Fill the form below with the coin's ID to get crypto data.</h3>
            </div>
            
            <div class="text-center">
                <form action="/coin-data" method="post" class="centered-form">
                    <div class="form-group mb-2">
                        <!-- <label for="coinId">Coin ID</label> -->
                        <input type="text" class="form-control" name="coinId" placeholder="Write coin's id" id="coinId" required>                        
                    </div>
                    <button type="submit" class="btn btn-dark">Get coin data</button> 
                            
                </form>
            </div>

            <div class="centered-table-container">
                <% if (locals.coinData) { %>
                    <h1 class="text-center mb-4">Data for <%= coinData.name %></h1>
                    <table class="table">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Property</th>
                                <th scope="col">Value</th>
                            </tr>
                        </thead>
                        <tbody>                            
                            <tr>
                                <td> Ticker</td>
                                <td><%= coinData.symbol.toUpperCase() %></td>                    
                            </tr>
                            <tr>
                                <td> Name</td>
                                <td><%= coinData.name %></td>                    
                            </tr>
                            <tr>
                                <td> Price (USD)</td>
                                <td><%= coinData.usd %></td>                    
                            </tr>
                            <tr>
                                <td> Market CAP </td>
                                <td><%= coinData.usd_market_cap %></td>                    
                            </tr>
                            <tr>
                                <td> Vol. 24h change</td>
                                <td><%= coinData.usd_24h_vol %></td>                    
                            </tr>
                            <tr>
                                <td> Price 24h change</td>
                                <td><%= coinData.usd_24h_change %></td>                    
                            </tr>
                        </tbody>
                    </table>
                <% } %>
            </div>
        </div>
    </section>    

    <!-- Footer-->
    <footer class="footer py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-4 text-lg-start">Copyright &copy <script>document.write(new Date().getFullYear())</script></div>
                <div class="col-lg-4 my-3 my-lg-0">
                    <a class="btn btn-dark btn-social mx-2" href="https://github.com/henriquemenegaz?tab=repositories" aria-label="GitHub"><i class="bi bi-github"></i></a>
                    <a class="btn btn-dark btn-social mx-2" href="www.linkedin.com/in/henrique-menegaz-b5b27985" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>


    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</body>
</html>